<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Instructions</title>
    <link href="/darkmode.css" rel="stylesheet">
    <!-- JavaScript Bundle with Popper -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"
            integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3"
            crossorigin="anonymous"></script>
    <link rel="icon" type="image/x-icon" href="/favicon.ico">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-dark bg-dark">
    <div class="container-fluid">
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <a class="navbar-brand" href="/home">Mock Trading</a>
        <div class="collapse navbar-collapse" id="navbarSupportedContent">
            <ul class="navbar-nav me-auto mb-2 mb-lg-0">
                <li class="nav-item">
                    <a class="nav-link" href="/home">Home</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" aria-current="page" href="/whitelist">Whitelist</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link active" aria-current="page" href="/instructions">Instructions</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="mailto:jordan.dooley@k12.nd.us">Contact Me</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/admin" id="admin-link" style="display: none">Admin</a>
                </li>
            </ul>
        </div>
        <ul class="navbar-nav mb-2 mb-lg-0">
            <li>
                <button class="btn btn-outline-success" type="submit" onclick="logout()">Logout</button>
            </li>
        </ul>
    </div>
</nav>
<div class="container text-container">
    <div class="card border-info mt-2">
        <div class="card-header">
            <h3>Instructions</h3>
        </div>
        <div class="card-body">
            <p>Welcome to the Mock Stock Trading program! This program is to help students manage fake stock portfolios.
                The instructions are broken down into sections based on the page they correspond to.</p>
        </div>
    </div>
    <div class="card border-success mt-2">
        <div class="card-header">
            <h3>Home</h3>
        </div>
        <div class="card-body">
            <p>The home page is where most of your stock information will be displayed.</p>
            <p>Below is an image of the navbar. On the left is the different pages you can visit. On the right is how
                much cash your account has as well as a logout button. Your cash will update after making
                transactions.</p>
            <img src="/images/home-navbar-image.PNG" alt="Home Page" class="img-fluid mb-3">
            <hr class="mt-4">
            <p>On the top left of the main page you will see a list of all the stocks you own. By clicking on these
                stocks will update them to get the current gross price and then calculate the net income / loss of those
                stocks.</p>
            <img src="/images/home-stocks-image.PNG" alt="Home Stocks" class="img-fluid mb-3">
            <hr class="mt-4">
            <p>On the top right of the home page is the Stock Lookup section. This section will look up the current
                price of a stock given its symbol. The information of that stock is displayed in the table after
                "Search" is clicked and a valid stock symbol was typed in the input.</p>
            <img src="/images/home-stock-lookup-image.PNG" alt="Stock Lookup" class="img-fluid">
            <img src="/images/home-nvda-stock-lookup-image.PNG" alt="NVDA Stock Lookup" class="img-fluid mb-3">
            <hr class="mt-4">
            <p>Under the Stock Lookup section is the Transaction section. This is where you will create your
                transactions for buying and selling stocks. To create a transaction, you must type a valid stock symbol
                into the stock lookup input. Then you select "Buy" or "Sell" as well as setting the amount of that stock
                you want in your transaction. This program will not allow you to buy more stocks than you have the money
                for, nor will it let you sell more stocks than you have.</p>
            <img src="/images/home-transaction-buy-image.PNG" alt="Transaction Form" class="img-fluid mb-3">
            <hr class="mt-4">
            <p>Under all of the main sections you will see the notification bar. This bar will notify you with
                information on the latest updates to this program as well as alerting when transactions succeeded or
                errors were thrown. This notification can be dismissed by clicking the "X" in the top right corner of
                the box.</p>
            <img src="/images/home-alert-image.PNG" alt="Alert Bar" class="img-fluid mb-3">
            <hr class="mt-4">
            <p>At the bottom of the screen you will find the Stock Candlestick Widget. This widget allows you to view
                the live market data of virtually any public traded stock. The main features are the stock selection in
                the top left corner. By clicking on the stock symbol, you can search to display a stock of your
                choosing. To the left of that is the time range. This is useful for selecting the timespan of each
                candle. The default is one day per candle, but it can be shortened to one minute per candle. By
                scrolling or right-clicking on the axis of the graph can change the range of value shown. The horizontal
                axis is the time of the market and will change based off the time per candle. The vertical axis is the
                value of the stock. By default, the vertical axis will scale automatically with the price range of the
                stock. There are many other great features of this chart which are explained <a
                        href="https://www.tradingview.com">here</a>.</p>
            <img src="/images/home-candlestick-chart-image.PNG" alt="Candlestick Chart" class="img-fluid">
        </div>
    </div>
    <div class="card border-primary mt-2">
        <div class="card-header">
            <h3>Whitelist</h3>
        </div>
        <div class="card-body">
            <p>This page is where you can request stocks to be added to the class whitelist if it is not available.
                There are already some instructions on the right side explaining the form information. This form is used
                to submit a stock request to the admins requesting the stock to be added to the class whitelist.</p>
            <img src="/images/whitelist-form-image.PNG" alt="Whitelist Form" class="img-fluid mb-3">
            <hr class="mt-4">
            <p>This list shows all the whitelisted stocks for the class. These stock symbols are open to transactions
                being placed on them. If you would like a stock to be whitelisted, fill out the form above. Pro-tip: If
                you want to find if a specific stock is in the list, instead of scrolling forever, use <b>CTRL + F</b>
                to search for the stock symbol. If a match is not found, request the stock.</p>
            <img src="/images/whitelist-list-image.PNG" alt="Whitelist List" class="img-fluid">
        </div>
    </div>
    <div class="card border-warning my-2">
        <div class="card-header">
            <h3>Created By: <b id="creator-name">Jordan Dooley</b></h3>
        </div>
        <div class="card-body">
            <p id="random-note" class="minecraft-splash-text"></p>
            <hr class="mt-4">
            <p>Thank you for your support and patience. Please report any bugs by emailing me or, if
                you are really techy, you can file a bug report at: <a
                        href="https://github.com/Jdools05/mock-trading/issues">Mock Trading Issues</a>. I put a lot of
                my free time into this project
                for the benefit of my classmates and all the students in years to come. I hope you enjoy it!
            </p>
        </div>
    </div>
</div>
</body>
<style>
    #creator-name {
        color: #ff0000; /* start color */
        animation: color-animation 10s infinite;
    }

    @keyframes color-animation {
        0% {
            color: #ff0000; /* red */
        }
        16.7% {
            color: #ffff00; /* yellow */
        }
        33.3% {
            color: #00ff00; /* green */
        }
        50% {
            color: #00ffff; /* cyan */
        }
        66.7% {
            color: #0000ff; /* blue */
        }
        83.3% {
            color: #ff00ff; /* magenta */
        }
        100% {
            color: #ff0000; /* red */
        }
    }

    .minecraft-splash-text {
        font-size: 24px;
        color: gold;
    }

</style>
<script>
    window.onload = function () {
        checkAdmin();
        setRandomNote();
    };


    const texts = ["If you don't like the website, feel free to create your own!",
        "This website was made with love, sweat, and a little bit of HTML.",
        "\"It felt like I spent a million years programming that website. I swear, I aged more in those few weeks than I have in my entire life. It's like I traveled through a black hole or something. Time and space must have bent around me while I was coding, because it's impossible for me to have spent that long on a single project. I think I even saw a dinosaurs wandering by my window at one point. That's how long it took.\" - Me when asked how long this took.",
        "Programming this website was like trying to paint the Mona Lisa with a toothbrush - it took forever and was a lot harder than it needed to be.",
        "I'm not sure if I should be proud or ashamed of the fact that I spent more time on this website than I did on my actual homework.",
        "99 bugs in the code, 99 bugs in the code. Take one down, patch it around, 127 bugs in the code!",
        "Java is to JavaScript as ham is to hamster.",
        "Building this website is like playing with Legos. It's all fun and games until you have to clean up the mess you made.",
        "If you're reading this, you're probably a nerd. Thank you.",
        "Wait, this isn't Minecraft!",
        "If I had a dollar for every error thrown while programming this website, wouldn't have to worry about building this website.",
        "Code is like humor. When you have to explain it, it's bad.",
        "When I wrote this code, only God and I understood what I was doing. Now, only God knows.",
        "Remember kids, its not a bug, its an undocumented feature.",
        "If you need extra cash for your stocks, you can always sell your soul to the devil. Or you can just sell your soul to me and I'll give you some cash.",
        "Sometimes, I wonder if I'm a genius or a complete idiot. Then I remember that I'm a programmer, so I'm both.",
        "There are 10 types of people in the world: those who understand binary, and those who don't.",
        "The best thing about a boolean is even if you are wrong, you are only off by a bit.",
        "Without requirements or design, programming is the art of adding bugs to an empty text file.",
        "Before software can be reusable it first has to be usable.",
        "The best method for accelerating a computer is the one that boosts it by 9.8 m/s2.",
        "The secret to school is knowing who knows what you don't.",
        "Trust me, I'm a professional.",];



    function setRandomNote() {
        const paragraph = document.getElementById("random-note");
        paragraph.textContent = texts[Math.floor(Math.random() * texts.length)];
    }

    function checkAdmin() {
        handleRequest("GET", "/api/v1/users/me", null, function (response) {
            let user = new User(JSON.parse(response));
            if (user.role === "admin") {
                document.getElementById("admin-link").style.display = "block";
            }
        });
    }

    function handleRequest(method, url, body, callback) {
        let xhr = new XMLHttpRequest();
        xhr.open(method, url);
        xhr.setRequestHeader("Content-Type", "application/json");
        xhr.onreadystatechange = function () {
            if (xhr.readyState === 4) {
                if (xhr.status === 200) {
                    callback(xhr.responseText);
                } else if (xhr.status === 401 || xhr.status === 403) {
                    window.location.href = "/login";
                } else {
                    pushAlert(detailedError(xhr.responseText));
                }
            }
        };
        xhr.send(body);
    }

    class User {

        constructor(json) {
            this.firstName = json.firstName;
            this.lastName = json.lastName;
            this.email = json.email;
            this.cash = json.cash;
            this.role = json.role;
            this.transactions = json.transactions;
            this.stockInventory = json.stocks;
        }
    }

    function logout() {
        document.cookie = 'quarkus-credential=; Max-Age=0'
        window.location.href = "/login";
    }
</script>
</html>